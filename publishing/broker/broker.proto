syntax = "proto3";

import "google/protobuf/timestamp.proto";

package broker;

// The Broker service is a pub/sub service
service Broker {
    rpc Send (stream SubscribeRequest) returns (stream Event) {}
}

message SubscribeRequest {
    uint32 index = 1;
}

message Event {
    string name = 1;
    google.protobuf.Timestamp timestamp = 2;
    bytes event = 3;
}